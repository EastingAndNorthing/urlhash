if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=urlHash}exports.urlHash=urlHash}var urlHash=function(t){this.defaults=t||{};this.params=this.defaults;if(window.location.hash){this.params=this.getParams(true)}};urlHash.prototype.getParams=function(t){t=t||false;var e=window.location.hash.substr(1);return e.split("&").reduce(function(e,s){var a=s.split("=");if(t){a[1]=a[1].split(",");if(a[1].length===1)a[1]=a[1][0]}e[a[0]]=a[1];return e},{})};urlHash.prototype.setParams=function(t){this.params=t;var e="";for(var s in t){if(t[s]!==null&&t[s]!==this.defaults[s]&&t[s]!==""){if(e!=="")e+="&";var a=encodeURIComponent(t[s]);e+=s+"="+a.replace(new RegExp("%2C","g"),",")}}if(e===""){history.pushState("",document.title,window.location.pathname)}else{window.location.hash=e}};urlHash.prototype.get=function(t,e){e=e||false;var s=this.getParams();var a=decodeURIComponent(s[t]);if(a==""||typeof a=="undefined"||a=="undefined"){a=this.defaults[t]}if(e)return a.split(",");return a};urlHash.prototype.set=function(t,e){var s=this.getParams();if(e!==""||typeof e!=="undefined"){s[t]=e}this.setParams(s)};