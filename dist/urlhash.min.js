function urlHash(t){this.defaults=t||{};this.params=this.defaults;if(window.location.hash){this.params=this.getParams(true)}}urlHash.prototype.getParams=function(t){t=t||false;var e=window.location.hash.substr(1);return e.split("&").reduce(function(e,a){var s=a.split("=");if(t){s[1]=s[1].split(",");if(s[1].length===1)s[1]=s[1][0]}e[s[0]]=s[1];return e},{})};urlHash.prototype.setParams=function(t){this.params=t;var e="";for(var a in t){if(t[a]!==null&&t[a]!==this.defaults[a]&&t[a]!==""){if(e!=="")e+="&";var s=encodeURIComponent(t[a]);e+=a+"="+s.replace(new RegExp("%2C","g"),",")}}if(e===""){history.pushState("",document.title,window.location.pathname)}else{window.location.hash=e}};urlHash.prototype.get=function(t,e){e=e||false;var a=this.getParams();var s=decodeURIComponent(a[t]);if(s==""||typeof s=="undefined"||s=="undefined"){s=this.defaults[t]}if(e)return s.split(",");return s};urlHash.prototype.set=function(t,e){var a=this.getParams();if(e!==""||typeof e!=="undefined"){a[t]=e}this.setParams(a)};