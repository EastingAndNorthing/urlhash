function urlHash(t){this.defaults=t||{};this.params=this.defaults;if(window.location.hash){this.params=this.getParams(true)}}urlHash.prototype.getParams=function(t){t=t||false;var a=window.location.hash.substr(1);return a.split("&").reduce(function(a,e){var s=e.split("=");if(t){s[1]=s[1].split(",");if(s[1].length===1)s[1]=s[1][0]}a[s[0]]=s[1];return a},{})};urlHash.prototype.setParams=function(t){this.params=t;var a="";for(var e in t){if(t[e]!==null&&t[e]!==this.defaults[e]&&t[e]!==""){if(a!=="")a+="&";var s=encodeURIComponent(t[e]);a+=e+"="+s.replace(new RegExp("%2C","g"),",")}}if(a===""){history.pushState("",document.title,window.location.pathname)}else{window.location.hash=a}};urlHash.prototype.get=function(t,a){a=a||false;var e=this.getParams();var s=decodeURIComponent(e[t]);if(s==""||typeof s=="undefined"){s=this.defaults[t]}if(a)return s.split(",");return s};urlHash.prototype.set=function(t,a){var e=this.getParams();if(a!==""||typeof a!=="undefined"){e[t]=a}this.setParams(e)};